#spring:
#  datasource:
#
#    url: jdbc:postgresql://localhost:5431/ecommerce  # Use Docker service name
#    username: username
#    password: secret
#  jpa:
#    hibernate:
#      ddl-auto: validate
#    properties:
#      hibernate:
#        maximum-pool-size: 10
#        minimum-idle: 5
#        format_sql: true
#
#    database: postgresql
#    database-platform: org.hibernate.dialect.PostgreSQLDialect
#  flyway:
#    enabled: true
#    baseline-on-migrate: true

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/ecommerce} # Railway will override
    username: ${SPRING_DATASOURCE_USERNAME:postgres} # Default for local dev
    password: ${SPRING_DATASOURCE_PASSWORD:postgres} # Default for local dev
    hikari:
      maximum-pool-size: 5 # Critical for Railway's memory limits
      connection-timeout: 30000
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    database-platform: org.hibernate.dialect.PostgreSQLDialect
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
  sql:
    init:
      mode: never # Disable Spring's auto-schema generation

management:
  endpoint:
    health:
      show-details: always
  endpoints:
    web:
      exposure:
        include: health







#  mail:
#    host: mail_dev_ecommerce  # Use Docker service name
#    port: 1025
#    properties:
#      mail:
#        smtp:
#          auth: false  # MailDev doesnâ€™t require authentication
#          starttls:
#            enable: false
#          ssl:
#            trust: "*"
#          connectiontimeout: 5000
#          timeout: 3000
#          writetimeout: 5000

#application:
#  mailing:
#    frontend:
#      activation-url: http://localhost:4200/activate-account

#  # Gmail SMTP Configuration (If needed for production)
#  gmail:
#    host: smtp.gmail.com
#    port: 587
#    username: hady@gmail.com
#    password: secret # Use an App Password, not your actual Gmail password!
#    properties:
#      mail:
#        smtp:
#          auth: true
#          starttls:
#            enable: true
